<p-toast></p-toast>
<!--div class="container">
    <div *ngIf="currentQuestion" class="p-card">
        <div class="row">
            <div class="col-md-12">                
                <div class="p-card-header">
                    <p-progressBar [value]="progressValue()" />
                </div>
                <div class="p-card-content">
                    <h3 [ngStyle]="{color: 'var(--highlight-text-color)'}">Pregunta {{ currentIndex + 1 }}/{{ preguntas.length }}</h3>
                    <div class="text-pregunta"><h5>{{ currentQuestion.pregunta }}</h5></div>
                    <textarea rows="5" cols="100" pInputTextarea [(ngModel)]="respuestas[currentIndex].respuesta"></textarea>
                </div>                                
            </div>
        </div>
        <div class="row">
            <div class="col-md-8">
                <button pButton class="btn_chevron" icon="pi pi-chevron-left" (click)="previousQuestion()" [disabled]="currentIndex === 0"></button>&nbsp;&nbsp;
                <button pButton class="btn_chevron" icon="pi pi-chevron-right" (click)="nextQuestion()" [disabled]="currentIndex === preguntas.length - 1"></button>&nbsp;&nbsp;

                <button pButton class="btn_microphone" pTooltip="Responder con audio a texto" tooltipPosition="top" (click)="toggleVoiceRecognition(currentIndex)" *ngIf="isRecording ? 'Detener' : 'Hablar'">
                    <i class="pi pi-microphone" style="font-size: 1.5rem"></i>
                </button>&nbsp;&nbsp;
                <p class="text-danger" *ngIf="isRecording">
                    Grabaci√≥n iniciada
                </p>
                <p class="text-success" *ngIf="errorMessage">
                    {{ errorMessage }}
                </p>
            </div>
            <div class="col-md-4">
                <button pButton pRipple label="Enviar" class="btn-success" (click)="submitAnswers()" [disabled]="!btn_success"></button>
            </div>
        </div>
    </div>    
</div-->
<app-video-chat class="mt-3" [idEntrevista]="idEntrevista" (respuestasEntrevista)="submitAnswers($event)"></app-video-chat>

<p-dialog header="Header" [(visible)]="visible" [modal]="true" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
    
  <ng-template pTemplate="header">
        <div class="inline-flex align-items-center justify-content-center">
            <span class="font-bold white-space-nowrap">Error</span>
        </div>
    </ng-template>
    <p class="m-0">
        Debes responder todas las preguntas antes de enviar la entrevista
    </p>

</p-dialog>